<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chapter10.ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆ</title>

  <link rel="stylesheet" href="/sample/samples/common/css/style.css">
  <link rel="stylesheet" href="/sample/samples/c10/190/style.css">

  <style>
  </style>
</head>
<body class="chapter-10">

  <!-- 181.CSS Transitionsã®çµ‚äº†æ™‚ã«å‡¦ç†ã‚’è¡Œã„ãŸã„ -->
  <!-- <main class="centering">
    <div class="rect"></div>

    <div class="ui">
    <label>
      <input type="checkbox" id="checkbox"/>
      ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³ã‚’ç¢ºèªã™ã‚‹
    </label>

    <div class="log">ãƒ­ã‚°è¡¨ç¤ºã‚¨ãƒªã‚¢</div>
  </div>


  </main> -->

  <!-- 182.CSS Animationsã®çµ‚äº†æ™‚ã«å‡¦ç†ã‚’è¡Œã„ãŸã„ -->
  <!-- <main class="centering">
    <div class="rect">
    </div>

    <div class="ui">
      <label>
        <input type="checkbox" id="checkbox"/>
        ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç¢ºèªã™ã‚‹
      </label>

      <div class="log">ãƒ­ã‚°è¡¨ç¤ºã‚¨ãƒªã‚¢</div>
    </div>
  </main> -->

  <!-- 183.ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®ãŸã‚ã®ã€ŒWeb Animations APIã€ã‚’ä½¿ã„ãŸã„ -->
  <!-- <div class="container">
    <div class="rect"></div>
  </div> -->

  <!-- 190.requestAnimationFrame()ã§HTMLè¦ç´ ã‚’å‹•ã‹ã—ãŸã„ -->
  <div class="stoker">
    ğŸ‘»
  </div>

  <script>

    /*** 180.JavaScriptã‹ã‚‰CSS Transitionsãƒ»CSS Animationsã‚’ä½¿ã„ãŸã„
    **********************************************/
    // åˆ©ç”¨ã‚·ãƒ¼ãƒ³: CSSã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«åˆã‚ã›ã¦å‡¦ç†ã—ãŸã„æ™‚


    /*** 181.CSS Transitionsã®çµ‚äº†æ™‚ã«å‡¦ç†ã‚’è¡Œã„ãŸã„
    **********************************************/
    // åˆ©ç”¨ã‚·ãƒ¼ãƒ³: ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œå¾Œã«å‡¦ç†ã‚’ãƒ•ãƒƒã‚¯ã•ã›ãŸã„æ™‚
    // è¦ç´ ã® class æŒ‡å®šã®åˆ‡ã‚Šæ›¿ãˆ

    /***
    document.querySelector('#checkbox').addEventListener('change', (event) => {
      const element = document.querySelector('.rect');
      if (element.classList.contains('state-show') === true) {
        element.classList.remove('state-show');
      } else {
        element.classList.add('state-show');
      }
    });

    const element = document.querySelector('.rect');
    element.addEventListener('transitionend', (event) => {
      document.querySelector('.log').innerHTML = 'transitionend ç™ºç”Ÿ : ' + new Date().toLocaleTimeString();
    });
    ***/


    /*** 182.CSS Animationsã®çµ‚äº†æ™‚ã«å‡¦ç†ã‚’è¡Œã„ãŸã„
    **********************************************/
    // åˆ©ç”¨ã‚·ãƒ¼ãƒ³: ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œå¾Œã«å‡¦ç†ã‚’ãƒ•ãƒƒã‚¯ã•ã›ãŸã„æ™‚
    // ã€æ§‹æ–‡â‘ ã€‘
    // ã‚¤ãƒ™ãƒ³ãƒˆå ï¼š animationstart
    // æ„å‘³ ï¼š ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒé–‹å§‹ã—ãŸæ™‚ã®ã‚¤ãƒ™ãƒ³ãƒˆ
    // ã€æ§‹æ–‡â‘¡ã€‘
    // ã‚¤ãƒ™ãƒ³ãƒˆå ï¼š animationiteration
    // æ„å‘³ ï¼š ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã§ç¹°ã‚Šè¿”ã—ãŒç™ºç”Ÿã—ãŸæ™‚ã®ã‚¤ãƒ™ãƒ³ãƒˆ
    // ã€æ§‹æ–‡â‘¢ã€‘
    // ã‚¤ãƒ™ãƒ³ãƒˆå ï¼š animationend
    // æ„å‘³ ï¼š ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒå®Œäº†ã—ãŸæ™‚ã®ã‚¤ãƒ™ãƒ³ãƒˆ

    /***
    document.querySelector('#checkbox').addEventListener('change', (event)=> {
      const element = document.querySelector('.rect');
      if (element.classList.contains('state-show') === true) {
        element.classList.remove('.state-show');
      } else {
        element.classList.add('state-show');
      }
    });

    const targetEl = document.querySelector('.rect');
    const logEl = document.querySelector('.log')

    targetEl.addEventListener('animationstart', (event)=> {
      logEl.innerHTML = 'animationstart ç™ºç”Ÿ : ' + new Date().toLocaleTimeString();
    })
    targetEl.addEventListener('animationiteration', (event)=> {
      // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã§ç¹°ã‚Šè¿”ã—ãŒç™ºç”Ÿã—ãŸæ™‚ã®ã‚¤ãƒ™ãƒ³ãƒˆ
      logEl.innerHTML = 'animationiteration ç™ºç”Ÿ : ' + new Date().toLocaleTimeString();
    })
    targetEl.addEventListener('animationend', (event)=> {
      // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒå®Œäº†ã—ãŸæ™‚ã®ã‚¤ãƒ™ãƒ³ãƒˆ
      logEl.innerHTML = 'animationend ç™ºç”Ÿ : ' + new Date().toLocaleTimeString();
    })
    ***/


    /*** 183.ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®ãŸã‚ã®ã€ŒWeb Animations APIã€ã‚’ä½¿ã„ãŸã„
    **********************************************/
    // åˆ©ç”¨ã‚·ãƒ¼ãƒ³: è‡ªç”±åº¦ã®é«˜ã„ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã‚ŠãŸã„æ™‚
    //           JavaScriptãƒ¡ã‚¤ãƒ³ã§ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã‚ŠãŸã„æ™‚
    // ã€æ§‹æ–‡â‘ ã€‘
    // ãƒ¡ã‚½ãƒƒãƒ‰ ï¼š è¦ç´ .animate(ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ, ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ)
    // æ„å‘³ ï¼š ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹
    // æˆ»ã‚Šå€¤ ï¼š ãªã—
    // ç¬¬ä¸€å¼•æ•° ï¼š é–‹å§‹å€¤ã¨çµ‚äº†å€¤ã‚’å«ã‚€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
    // ç¬¬äºŒå¼•æ•° ï¼š ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®å±æ€§ã‚’å«ã‚€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ

    /***
    const element = document.querySelector('.rect');
    element.animate(
      {
        transform: [
          'translateX(0px) rotate(0deg)', //é–‹å§‹å€¤
          'translateX(800px) rotate(360deg)', //çµ‚äº†å€¤
        ]
      },
      {
        duration: 3000,
        iterations: Infinity,
        direction: 'normal',
        easing: 'ease'
      }
    );
    ***/


    /*** 184.è¦ç´ ã®å¤§ãã•ã‚’å¤‰ãˆãŸã„
    **********************************************/
    // åˆ©ç”¨ã‚·ãƒ¼ãƒ³: ãƒœã‚¿ãƒ³ã®ãƒ›ãƒãƒ¼æ™‚ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œã‚ŠãŸã„æ™‚
    //           æ³¨ç›®ã•ã›ãŸã„è¦ç´ ã‚’ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã•ã›ãŸã„æ™‚


    /*** 185.è¦ç´ ã‚’ç§»å‹•ã•ã›ãŸã„
    **********************************************/
    // åˆ©ç”¨ã‚·ãƒ¼ãƒ³: ç§»å‹•ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã£ã¦æ³¨æ„å–šèµ·ã‚’ç¤ºã—ãŸã„æ™‚


    /*** 186.è¦ç´ ã®é€æ˜åº¦ã‚’å¤‰åŒ–ã•ã›ãŸã„
    **********************************************/
    // åˆ©ç”¨ã‚·ãƒ¼ãƒ³: éè¡¨ç¤ºã«ãªã‚‹è¦ç´ ã‚’æ¼”å‡ºã—ãŸã„æ™‚


    /*** 187.è¦ç´ ã®æ˜åº¦ã‚’å¤‰åŒ–ã•ã›ãŸã„
    **********************************************/
    // åˆ©ç”¨ã‚·ãƒ¼ãƒ³: æ˜ã‚‹ã•ã‚’å¤‰ãˆã‚‹ã“ã¨ã§ç›®ç«‹ãŸã›ãŸã„æ™‚
    //           ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒå½“ãŸã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¤ºã™ã®ã«å½¹ç«‹ã¦ãŸã„æ™‚


    /*** 188.è¦ç´ ã®å½©åº¦ã‚’å¤‰åŒ–ã•ã›ãŸã„
    **********************************************/
    // åˆ©ç”¨ã‚·ãƒ¼ãƒ³: ãƒ¢ãƒã‚¯ãƒ­ãƒ¼ãƒ ã®è¡¨ç¤ºã‚’é©ç”¨ã—ãŸã„æ™‚


    /*** 189.requestAnimationFrame()ã‚’ä½¿ã„ãŸã„
    **********************************************/
    // åˆ©ç”¨ã‚·ãƒ¼ãƒ³: WebGLã‚„HTML Canvasã§ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å‡¦ç†ã‚’ä½œã‚ŠãŸã„æ™‚
    //           ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚¢ãƒ¼ãƒˆã€3Dã®æ¼”å‡ºã‚’ä½œã‚ŠãŸã„æ™‚

    // ã€æ§‹æ–‡â‘ ã€‘
    // ãƒ¡ã‚½ãƒƒãƒ‰ ï¼š requestAnimationFrame(é–¢æ•°)
    // æ„å‘³ ï¼š æ™‚é–“çµŒéã§å‘¼ã³å‡ºã—ãŸã„é–¢æ•°ã‚’ç™»éŒ²ã™ã‚‹
    // æˆ»ã‚Šå€¤ ï¼š æ•°å€¤


    /*** 190.requestAnimationFrame()ã§HTMLè¦ç´ ã‚’å‹•ã‹ã—ãŸã„
    **********************************************/
    // åˆ©ç”¨ã‚·ãƒ¼ãƒ³: ãƒã‚¦ã‚¹ã‚¹ãƒˆãƒ¼ã‚«ãƒ¼ãªã©æ¼”å‡ºã‚’ä½œã‚‹æ™‚

    const el = document.querySelector('.stoker');

    let mouseX = 0;
    let mouseY = 0;

    let currentX = 0;
    let currentY = 0;

    document.body.addEventListener('mousemove', (event)=> {
      mouseX = event.clientX;
      mouseY = event.clientY;
    });

    tick();
    function tick() {
      requestAnimationFrame(tick);

      currentX += (mouseX - currentX) * 0.1;
      currentY += (mouseY - currentY) * 0.1;

      el.style.transform = `translate(${currentX}px, ${currentY}px)`
    }









  </script>
</body>
</html>
